<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Array</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="">
    
    <link rel="preload" href="/nodejs-notes/assets/css/0.styles.e62306a8.css" as="style"><link rel="preload" href="/nodejs-notes/assets/js/app.21c8c690.js" as="script"><link rel="preload" href="/nodejs-notes/assets/js/3.3c66409c.js" as="script"><link rel="preload" href="/nodejs-notes/assets/js/12.afa08de9.js" as="script"><link rel="prefetch" href="/nodejs-notes/assets/js/1.7384dd9d.js"><link rel="prefetch" href="/nodejs-notes/assets/js/10.5f4d0c8f.js"><link rel="prefetch" href="/nodejs-notes/assets/js/11.521db22d.js"><link rel="prefetch" href="/nodejs-notes/assets/js/13.80238336.js"><link rel="prefetch" href="/nodejs-notes/assets/js/14.ffb663c6.js"><link rel="prefetch" href="/nodejs-notes/assets/js/15.2be05732.js"><link rel="prefetch" href="/nodejs-notes/assets/js/16.2a709045.js"><link rel="prefetch" href="/nodejs-notes/assets/js/17.fa715d45.js"><link rel="prefetch" href="/nodejs-notes/assets/js/18.d9ddc906.js"><link rel="prefetch" href="/nodejs-notes/assets/js/19.497f6348.js"><link rel="prefetch" href="/nodejs-notes/assets/js/20.42e9dc36.js"><link rel="prefetch" href="/nodejs-notes/assets/js/21.ee788258.js"><link rel="prefetch" href="/nodejs-notes/assets/js/4.eb89986a.js"><link rel="prefetch" href="/nodejs-notes/assets/js/5.c15b3792.js"><link rel="prefetch" href="/nodejs-notes/assets/js/6.de1e01ed.js"><link rel="prefetch" href="/nodejs-notes/assets/js/7.fd3efa5e.js"><link rel="prefetch" href="/nodejs-notes/assets/js/8.b3e41791.js"><link rel="prefetch" href="/nodejs-notes/assets/js/9.60345875.js">
    <link rel="stylesheet" href="/nodejs-notes/assets/css/0.styles.e62306a8.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/nodejs-notes/" class="home-link router-link-active"></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/nodejs-notes/core/" class="nav-link router-link-active">
  JS Core
</a></div><div class="nav-item"><a href="/nodejs-notes/api/" class="nav-link">
  Node.js API
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/nodejs-notes/core/" class="nav-link router-link-active">
  JS Core
</a></div><div class="nav-item"><a href="/nodejs-notes/api/" class="nav-link">
  Node.js API
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>数据类型</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>原始类型</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading open"><span>引用类型</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/nodejs-notes/core/date.html" class="sidebar-link">Date</a></li><li><a href="/nodejs-notes/core/regexp.html" class="sidebar-link">RegExp</a></li><li><a href="/nodejs-notes/core/array.html" aria-current="page" class="active sidebar-link">Array</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/nodejs-notes/core/array.html#创建" class="sidebar-link">创建</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/nodejs-notes/core/array.html#构造函数创建" class="sidebar-link">构造函数创建</a></li><li class="sidebar-sub-header"><a href="/nodejs-notes/core/array.html#字面量" class="sidebar-link">字面量</a></li><li class="sidebar-sub-header"><a href="/nodejs-notes/core/array.html#静态方法" class="sidebar-link">静态方法</a></li></ul></li><li class="sidebar-sub-header"><a href="/nodejs-notes/core/array.html#空位" class="sidebar-link">空位</a></li><li class="sidebar-sub-header"><a href="/nodejs-notes/core/array.html#索引" class="sidebar-link">索引</a></li><li class="sidebar-sub-header"><a href="/nodejs-notes/core/array.html#检测" class="sidebar-link">检测</a></li><li class="sidebar-sub-header"><a href="/nodejs-notes/core/array.html#迭代器" class="sidebar-link">迭代器</a></li><li class="sidebar-sub-header"><a href="/nodejs-notes/core/array.html#复制与填充" class="sidebar-link">复制与填充</a></li><li class="sidebar-sub-header"><a href="/nodejs-notes/core/array.html#array-str-转换" class="sidebar-link">array -&gt; str 转换</a></li><li class="sidebar-sub-header"><a href="/nodejs-notes/core/array.html#栈方法" class="sidebar-link">栈方法</a></li><li class="sidebar-sub-header"><a href="/nodejs-notes/core/array.html#队列方法" class="sidebar-link">队列方法</a></li><li class="sidebar-sub-header"><a href="/nodejs-notes/core/array.html#排序" class="sidebar-link">排序</a></li><li class="sidebar-sub-header"><a href="/nodejs-notes/core/array.html#操作" class="sidebar-link">操作</a></li><li class="sidebar-sub-header"><a href="/nodejs-notes/core/array.html#参考" class="sidebar-link">参考</a></li></ul></li><li><a href="/nodejs-notes/core/set.html" class="sidebar-link">Set 集合</a></li></ul></section></li></ul></section></li><li><a href="/nodejs-notes/core/proxy.html" class="sidebar-link">Proxy 代理</a></li><li><a href="/nodejs-notes/core/iterator.html" class="sidebar-link">迭代器</a></li><li><a href="/nodejs-notes/core/promise.html" class="sidebar-link">Promise</a></li><li><a href="/nodejs-notes/core/tagfunction.html" class="sidebar-link">Tag function</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="array"><a href="#array" class="header-anchor">#</a> Array</h1> <h2 id="创建"><a href="#创建" class="header-anchor">#</a> 创建</h2> <h3 id="构造函数创建"><a href="#构造函数创建" class="header-anchor">#</a> 构造函数创建</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">[</span>element0<span class="token punctuation">,</span> element1<span class="token punctuation">,</span> <span class="token operator">...</span><span class="token punctuation">,</span> elementN<span class="token punctuation">]</span>
<span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span>element0<span class="token punctuation">,</span> element1<span class="token punctuation">[</span><span class="token punctuation">,</span> <span class="token operator">...</span><span class="token punctuation">[</span><span class="token punctuation">,</span> elementN<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span>arrayLength<span class="token punctuation">)</span>
</code></pre></div><ul><li>不传入参数，返回 <code>[]</code></li> <li>传入一个参数 n
<ul><li>n 为数值，返回 length 为 n 的数组</li> <li>n 为非数值，返回 <code>[n]</code></li></ul></li> <li>传入多个参数，代表数组值枚举</li></ul> <h3 id="字面量"><a href="#字面量" class="header-anchor">#</a> 字面量</h3> <p><code>[1,2,]</code> 代表<code>[1,2]</code></p> <h3 id="静态方法"><a href="#静态方法" class="header-anchor">#</a> 静态方法</h3> <p>Array 构造函数有两个 ES6 新增的静态方法 <code>from</code> 和 <code>of</code> 用于创建数组</p> <ul><li>from 将类数组转化为数组</li></ul> <div class="code-block inside-gutter">// String
Array.from(&quot;abc&quot;); // [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;]
</div><div class="code-block inside-gutter">// Map
const m = new Map().set(1, 2).set(3, 4);
console.log(m);
Array.from(m);
</div><div class="code-block inside-gutter">// Set
const s = new Set().add(1).add(2).add(3).add(4);
console.log(s);
Array.from(s);
</div><div class="code-block inside-gutter">// 数组浅复制
const a1 = [1, 2, 3, 4];
const a2 = Array.from(a1);

console.log({ a1, a2 });
console.log(a1 === a2); // false
</div><div class="code-block inside-gutter">// 可以使用任何可迭代对象
const iter = {
  *[Symbol.iterator]() {
    yield 1;
    yield 2;
    yield 3;
    yield 4;
  },
};
console.log(Array.from(iter)); // [1, 2, 3, 4]

// arguments对象可以被轻松地转换为数组
function getArgsArray() {
  return Array.from(arguments);
}
console.log(getArgsArray(1, 2, 3, 4)); // [1, 2, 3, 4]

// from()也能转换带有必要属性的自定义对象
const arrayLikeObject = {
  0: 1,
  1: 2,
  2: 3,
  3: 4,
  length: 4,
};
console.log(Array.from(arrayLikeObject)); // [1, 2, 3, 4]
</div><div class="code-block inside-gutter">// 第2个参数代表 映射函数，Array.from(x,fn) 相当于 Array.from(x).map(fn)
// 第3个参数代表 this, 可通过 this 在映射函数中使用
const a1 = [1, 2, 3, 4];
const a2 = Array.from(
  a1,
  function (x, index) {
    console.log({ this: this, index, x });
    return `${this.prefix}-i${index}-${x}`;
  },
  { prefix: &quot;abc&quot; }
);
</div><ul><li>of 将一组参数转为数组，看着不厉害也不好用</li></ul> <div class="code-block inside-gutter">// 可代替 Array.prototype.slice.call(arguments)
Array.of(1, 2, 3, 4);
</div><h2 id="空位"><a href="#空位" class="header-anchor">#</a> 空位</h2> <p>字面量创建数组是可以使用<code>,</code>创建空位</p> <div class="code-block inside-gutter">console.log([, , ,]);
console.log([&quot;x&quot;, , ,]);
console.log([, , &quot;x&quot;]);
console.log([, &quot;x&quot;, ,]);
</div><div class="code-block inside-gutter">// map 会跳过空位
[, &quot;x&quot;, ,].map((...args) =&gt; {
  console.log(args);
  return &quot;y&quot;;
});
</div><div class="code-block inside-gutter">// join()视空位置为空字符串
[, &quot;x&quot;, ,].join(&quot;-&quot;);
</div><h2 id="索引"><a href="#索引" class="header-anchor">#</a> 索引</h2> <p>可通过下标索引读写数组内容，创建空位</p> <p>可通过修改 length 批量删除元素，创建空位</p> <div class="code-block inside-gutter">const showLen = (array) =&gt; console.log(`len:${array.length}`, arr);
const arr = new Array(20);
showLen(arr);
arr[10] = 1010;
showLen(arr);
arr[5] = 55;
showLen(arr);
arr.length = 10;
showLen(arr);
</div><h2 id="检测"><a href="#检测" class="header-anchor">#</a> 检测</h2> <p><code>instanceof Array</code> 一般情况下可以正常检测，浏览器环境下在有多个 frame 情况下无法跨 frame 检测， Array 字面量指向当前 window 的 Array.</p> <p>ES5 提供了 <code>Array.isArray</code>, IE 9 + 可用，能检测 iframes.</p> <h2 id="迭代器"><a href="#迭代器" class="header-anchor">#</a> 迭代器</h2> <p>ES6 Array 原型上新增了检索方法：</p> <ul><li>keys 返回索引（下标）迭代器</li> <li>values 返回值迭代器</li> <li>entries 返回键值对数组迭代器</li></ul> <div class="code-block inside-gutter">const a = [&quot;foo&quot;, &quot;bar&quot;, &quot;baz&quot;, &quot;qux&quot;];

// 因为这些方法都返回迭代器，所以可以将它们的内容
// 通过Array.from()直接转换为数组实例
const aKeys = Array.from(a.keys());
const aValues = Array.from(a.values());
const aEntries = Array.from(a.entries());

console.log(aKeys); // [0, 1, 2, 3]
console.log(aValues); // [&quot;foo&quot;, &quot;bar&quot;, &quot;baz&quot;, &quot;qux&quot;]
console.log(aEntries); // [[0, &quot;foo&quot;], [1, &quot;bar&quot;], [2, &quot;baz&quot;], [3, &quot;qux&quot;]]
// 通过解构遍历 entries 迭代器
for (const [idx, element] of a.entries()) {
  console.log({ idx, element });
}
</div><h2 id="复制与填充"><a href="#复制与填充" class="header-anchor">#</a> 复制与填充</h2> <p>ES6 Array 原型链上新增：</p> <ul><li>批量复制方法 <code>fill</code></li> <li>数组填充方法 <code>copyWithin</code></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code>arr<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span>value<span class="token punctuation">[</span><span class="token punctuation">,</span> start<span class="token punctuation">[</span><span class="token punctuation">,</span> end<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
arr<span class="token punctuation">.</span><span class="token function">copyWithin</span><span class="token punctuation">(</span>target<span class="token punctuation">[</span><span class="token punctuation">,</span> start<span class="token punctuation">[</span><span class="token punctuation">,</span> end<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><p>这俩方法可以用于任意对象，而不仅仅是数组。</p> <div class="code-block inside-gutter">[].fill.call({ length: 5 }, &quot;x&quot;, 1, -2);
</div><p>对越界下标，只要能解释得通，都能用</p> <div class="code-block inside-gutter">[].fill.call({ length: 5 }, &quot;x&quot;, -10, 100);
</div><h2 id="array-str-转换"><a href="#array-str-转换" class="header-anchor">#</a> array -&gt; str 转换</h2> <p>toString 调用数组项的 toString，然后通过逗号拼接</p> <p>toLocaleString 调用数组项的 toLocalString，然后通过逗号拼接</p> <p>根据运算符规则，如果期望位置是一个字符串，则调用其 toString 方法。如：<code>alert(value)</code>, <code>'' + value</code></p> <div class="code-block inside-gutter">const arr = [1, &quot;xyz&quot;, new Date()];
console.log(arr.toString());
console.log(&quot;&quot; + arr);
console.log(arr.toLocaleString());
</div><p>join 可以指定分隔符，传入 <code>,</code> 时返回结果和 toString 结果相同。</p> <div class="code-block inside-gutter">const arr = [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;];
console.log(arr.toString(), arr.join(&quot;,&quot;));
console.log(arr.join(&quot;---&quot;));
</div><div class="code-block inside-gutter">const arr = [&quot;a&quot;, null, &quot;b&quot;, undefined];
console.log(arr.join(&quot;-&quot;));
console.log(arr.toString());
console.log(arr.toLocaleString());
</div><h2 id="栈方法"><a href="#栈方法" class="header-anchor">#</a> 栈方法</h2> <p>push(v) 推入</p> <p>pop() 弹出</p> <div class="code-block inside-gutter">arr = [];
arr.push(&quot;a&quot;);
console.log(&quot;push a&quot;, arr);
arr.push(&quot;b&quot;);
console.log(&quot;push b&quot;, arr);
console.log(&quot;pop&quot;, arr.pop());
console.log(&quot;arr&quot;, arr);
console.log(&quot;pop&quot;, arr.pop());
console.log(&quot;arr&quot;, arr);
</div><h2 id="队列方法"><a href="#队列方法" class="header-anchor">#</a> 队列方法</h2> <h2 id="排序"><a href="#排序" class="header-anchor">#</a> 排序</h2> <h2 id="操作"><a href="#操作" class="header-anchor">#</a> 操作</h2> <h2 id="参考"><a href="#参考" class="header-anchor">#</a> 参考</h2> <ul><li>一个 <a href="https://js-array-playground.netlify.app/" target="_blank" rel="noopener noreferrer">Array Playground<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <a href="https://github.com/Sellsuki/js-array-playground" target="_blank" rel="noopener noreferrer">仓库<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/nodejs-notes/core/regexp.html" class="prev">
        RegExp
      </a></span> <span class="next"><a href="/nodejs-notes/core/set.html">
        Set 集合
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/nodejs-notes/assets/js/app.21c8c690.js" defer></script><script src="/nodejs-notes/assets/js/3.3c66409c.js" defer></script><script src="/nodejs-notes/assets/js/12.afa08de9.js" defer></script>
  </body>
</html>
